language: java
sudo: false
install: true

jdk:
  - openjdk8

addons:
  sonarcloud:
    organization: "black-duck-software"
    token:
      secure: "yLt5zsryHAfuQVfGmUhfxenjJb6oOQ9fipnFbsvMxABErTbtsnUPl7jHQLICz3rCyCiX5Gdyg0ei8gFEoG2VBcUOmnZHtPQ/IxJ8DoAoScNSat/dAn52J20aOMd5WP79FmpXQn8Ki6bQsvigNF7e51KN5rYnA+5hbqS9QANkoRGxR8/7XCyhiJFyPYZz6tB4OHqJ02O/BIPwJ4VyGuJ2kFiaCtGj1PMBK8BPGBu9y/qjE4+p4MPJJWBYzAY34zytBJ4g56F+Xh0cNDQ6RbHA+ycSVD+slpcnWFgXS7rfuJHtAZbeAo6PBuS0N++sdygXp+SG9ecvwZaXk161pZfI4X4lnLmvxDQrItjq7zRz/MUWeirhKSmN/hLq9eCfSlr0ctRJPgpCm2nKZw0dNdYH2wv+baZNMZqwEQkOm5qs0D5qvnSER7g3d2M63w7fGbuaqYXq9c9/dKx4ML5D30cNjKO+E5qJilQPUs9oTdQMeez1UVgqM/Zd5YiqhzapLVDBpj3/SuGgzSCUHX6t/TUdyXXzxDntrLhcWfoST2/aYv19ZGlTYZnP4+GxSc9/rhdJneBYacqV1MHOPTHuDw5BAKbaYmBMgGeNSGq5sNZyQjoCiGamALYSMAhasQ7o3aUI6mIUxhdRUy3he6gwEO+Fl6cMVpFMlNfMd5yXkFZ0PYE="

notifications:
  email:
    recipients:
      - rotte@synopsys.com

script:
  - "./gradlew clean build jpi jacocoTestReport coveralls sonarqube"

after_success:
  - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
    - "$HOME/.m2/repository"
    - "$HOME/.sonar/cache"
    - "$HOME/.gradle"
    - ".gradle"
